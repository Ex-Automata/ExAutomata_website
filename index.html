<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ex Automata</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            font-family: 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(120deg, #e0e7ef 50%, #c7eaff 100%);
            color: #23272e;
            overflow-x: hidden;
        }
        #bg-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0;
            pointer-events: none;
        }
        .content {
            position: relative;
            z-index: 1;
            padding-top: 60px;
        }
        header {
            text-align: center;
            padding: 2rem 0 1rem 0;
            font-size: 2.5rem;
            font-weight: bold;
            letter-spacing: 0.1em;
        }
        .panels {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 3rem 0 2rem 0;
            flex-wrap: wrap;
        }
        .panel {
            background: rgba(255, 255, 255, 0.85);
            border-radius: 1.2rem;
            box-shadow: 0 4px 24px #b0d0ff88;
            padding: 0;
            min-width: 380px;
            min-height: 400px;
            height: 100%;
            width: 80%;
            display: block;
            position: relative;
            overflow: hidden;
            text-align: left;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            font-size: 1.15rem;
            color: #23272e;
        }
        .panel-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 75%;
            height: 100%;
            z-index: 2;
            padding: 2rem 1.5rem 2rem 2rem;
            flex-direction: column;
            justify-content: center;
            pointer-events: auto;
            text-align: justify;
            text-align-last: left;
        }
        .panel-image {
            position: absolute;
            top: 0;
            right: 0;
            width: 220px;
            height: 100%;
            z-index: 1;
            overflow: hidden;
            display: flex;
            align-items: center;
            background: linear-gradient(to left, #e0e7ef 60%, transparent 100%);
            pointer-events: none;
        }
        .panel-image img {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
            -webkit-mask-image:-webkit-gradient(linear, right top, left top, from(rgba(0,0,0,1)), to(rgba(0,0,0,0)));
            mask-image: linear-gradient(to left, rgba(0,0,0,1), rgba(0,0,0,0));
        }
        .panel-image img.active {
            opacity: 1;
        }
        .panel .learn-more {
            margin-top: 1.2rem;
            padding: 0.6rem 1.3rem;
            background: #00bfff;
            color: #fff;
            max-width: 200px;
            border: none;
            border-radius: 0.7rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 2px 8px #b0d0ff44;
            transition: background 0.2s;
        }
        .panel .learn-more:hover {
            background: #0099cc;
        }
        .about-panel {
            background: rgba(255,255,255,0.85);
            border-radius: 1.2rem;
            box-shadow: 0 4px 24px #b0d0ff88;
            width: 90%;
            height: 220px;
            margin: 0 auto 2rem auto;
            display: block;
            position: relative;
        }
        .about-panel .panel-content {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 2;
            padding: 2rem 1.5rem 2rem 2rem;
        }
        .about-panel .panel-image {
            position: absolute;
            top: 0;
            right: 0;
            width: 220px;
            height: 100%;
            z-index: 1;
            background: linear-gradient(to left, #e0e7ef 60%, transparent 100%);
        }
        @media (max-width: 700px) {
            .panels {
                flex-direction: column;
                align-items: center;
            }
            .panel, .about-panel {
                width: 95vw;
                min-width: unset;
                max-width: 98vw;
            }
            .panel-image, .about-panel .panel-image {
                width: 120px;
            }
        }
        footer {
            text-align: center;
            padding: 1.5rem 0 1rem 0;
            font-size: 1rem;
            color: #5a6a7a;
            background: #e0e7ef;
            border-top: 1px solid #b0d0ff;
            margin-top: 3rem;
        }
    </style>
</head>
<body>
    <canvas id="bg-canvas"></canvas>
    <div class="content">
        <header>Ex Automata</header>
        <section class="panels">
            <div class="panel" onclick="location.href='paige.html'">
                <div class="panel-content">
                    <h2>Paige</h2>
                    <p>
                        Paige is a modular, desktop-native assistant designed to work <em>for you</em>.
                        You're in full control—add your own models, define its personality, and shape its behavior to suit your workflow.
                    </p>
                    <p>
                        Whether you need automation, smart context handling, or seamless integration with your favorite tools,
                        Paige adapts to your needs. Customize it deeply. Talk to it naturally. Let it handle the grunt work so you can focus on what matters.
                    </p>
                    <button class="learn-more" onclick="event.stopPropagation();window.location.href='paige.html'">Learn More</button>
                </div>
                <div class="panel-image" id="paige-images">
                    <img src="img/paige/paige1.png" alt="Paige" class="active"/>
                    <img src="img/paige/paige2.png" alt="Paige" />
                </div>
            </div>
            <div class="panel" onclick="location.href='nutritracker.html'">
                <div class="panel-content">
                    <h2>NutriTracker</h2>
                    <p>
                        NutriTracker is an AI-based nutrition tracker that helps you create individualized calorie and nutrition goals, and track your intake effortlessly. 
                    </p>
                    <p>
                        Whether you log a plate, a portion, a scoop, 100 grams, or even just a picture—NutriTracker uses common-sense estimation to make sense of it. 
                        While not as precise; ease of use is the priority.
                    </p>
                    <p>
                        It estimates not just calories, but also macronutrients like protein, fat, and carbs, as well as micronutrients. 
                        You can even track your workouts and subtract them from your daily budget automatically.
                    </p>
                    <button class="learn-more" onclick="event.stopPropagation();window.location.href='nutritracker.html'">Learn More</button>
                </div>
                <div class="panel-image" id="nutri-images">
                    <img src="img/nutri/nutri1.png" alt="NutriTracker" class="active"/>
                </div>
            </div>
        </section>
        <section class="about-panel">
            <div class="panel-content" style="width: 90%">
                <h2>About Us</h2>
                <p>
                    Ex Automata is dedicated to building innovative digital tools that empower users to achieve more. Our products combine cutting-edge AI with intuitive design to help you work, create, and live better.
                </p>
            </div>
        </section>
        <footer>
            &copy; 2025 Ex Automata. All rights reserved. | info@exautomata.com
        </footer>
    </div>
    <script>
        // Dynamic background: interactive particles
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let width = window.innerWidth;
        let height = window.innerHeight;
        let mouse = { x: width/2, y: height/2 };
        let scrollY = 0;
        let particles = [];
        const PARTICLE_COUNT = 60;

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }
        window.addEventListener('resize', resize);
        resize();

        function randomColor() {
            const colors = ['#00eaff', '#ff00c8', '#ffe600', '#00ffb3', '#ff6b00'];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        function createParticles() {
            particles = [];
            for (let i = 0; i < PARTICLE_COUNT; i++) {
                particles.push({
                    x: Math.random() * width,
                    y: Math.random() * height,
                    vx: (Math.random() - 0.5) * 1.2,
                    vy: (Math.random() - 0.5) * 1.2,
                    r: 2.5 + Math.random() * 2.5,
                    color: randomColor(),
                    baseR: 2.5 + Math.random() * 2.5
                });
            }
        }
        createParticles();

        window.addEventListener('mousemove', e => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
        });
        window.addEventListener('scroll', () => {
            scrollY = window.scrollY;
        });

        function drawConnection(a, b, dist) {
            // Colorful gradient connection with glow
            const grad = ctx.createLinearGradient(a.x, a.y, b.x, b.y);
            grad.addColorStop(0, a.color);
            grad.addColorStop(1, b.color);
            ctx.save();
            ctx.beginPath();
            ctx.moveTo(a.x, a.y);
            ctx.lineTo(b.x, b.y);
            ctx.strokeStyle = grad;
            ctx.shadowColor = grad;
            ctx.shadowBlur = 8;
            ctx.globalAlpha = 0.25 + 0.5 * (1 - dist/100);
            ctx.lineWidth = 2.2 - dist/100;
            ctx.stroke();
            ctx.globalAlpha = 1.0;
            ctx.shadowBlur = 0;
            ctx.restore();
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            for (let p of particles) {
                // Move
                p.x += p.vx;
                p.y += p.vy + scrollY * 0.0005;
                // Bounce
                if (p.x < 0 || p.x > width) p.vx *= -1;
                if (p.y < 0 || p.y > height) p.vy *= -1;
                // No enlargement on mouse proximity
                // Draw
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.r, 0, 2 * Math.PI);
                ctx.fillStyle = p.color;
                ctx.globalAlpha = 0.6;
                ctx.shadowColor = p.color;
                ctx.shadowBlur = 10;
                ctx.fill();
                ctx.globalAlpha = 1.0;
                ctx.shadowBlur = 0;
            }
            // Draw enhanced lines between close particles
            for (let i = 0; i < particles.length; i++) {
                for (let j = i + 1; j < particles.length; j++) {
                    let a = particles[i], b = particles[j];
                    let dx = a.x - b.x, dy = a.y - b.y;
                    let dist = Math.sqrt(dx*dx + dy*dy);
                    if (dist < 100) {
                        drawConnection(a, b, dist);
                    }
                }
            }
            requestAnimationFrame(animate);
        }
        animate();

        // Sliding image carousel for panels
        function startPanelCarousel(panelId, imageCount, basePath, interval=5000) {
            const panel = document.getElementById(panelId);
            if (!panel) return;
            const imgs = Array.from(panel.querySelectorAll('img'));
            let idx = 0;
            function showImage(i) {
                imgs.forEach((img, j) => {
                    img.classList.remove('active');
                    img.style.opacity = 0;
                });
                idx = i;
                imgs[idx].classList.add('active');
                imgs[idx].style.transition = 'opacity 0.7s cubic-bezier(.77,0,.18,1)';
                imgs[idx].style.opacity = 1;
            }
            imgs.forEach((img, j) => {
                img.style.position = 'absolute';
                img.style.left = 0;
                img.style.top = 0;
                img.style.width = '100%';
                img.style.height = '100%';
                img.style.objectFit = 'contain';
                img.style.opacity = j === 0 ? 1 : 0;
                img.style.transition = 'opacity 0.7s cubic-bezier(.77,0,.18,1)';
            });
            setInterval(() => {
                let nextIdx = (idx + 1) % imgs.length;
                showImage(nextIdx);
            }, interval);
        }
        startPanelCarousel('paige-images', 2, 'img/paige/');
        startPanelCarousel('nutri-images', 1, 'img/nutri/');
        startPanelCarousel('about-images', 1, 'img/paige/');
    </script>
</body>
</html>
