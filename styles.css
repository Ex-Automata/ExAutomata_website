/* ========= BASICS ========= */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; background: radial-gradient(1200px 800px at 80% -10%, color-mix(in srgb, var(--secondary) 22%, transparent), transparent 60%), var(--bg); color: var(--text); background-attachment: fixed; background-repeat: no-repeat; }
a { color: var(--text); text-decoration: none; }
.container { max-width: 1120px; margin: 0 auto; padding: 0 1.6rem; }
.btn { display:inline-flex; align-items:center; gap:.6rem; padding:.9rem 1.2rem; border-radius: 999px; font-weight:600; border:1px solid color-mix(in srgb, var(--text) 12%, transparent); backdrop-filter: saturate(130%) blur(6px); }
.btn.primary { background: linear-gradient(135deg, var(--primary), color-mix(in srgb, var(--primary) 60%, #fff 10%)); color:#fff; border: none; box-shadow: var(--shadow); }
.btn.ghost { background: transparent; color: var(--text); }
.badge { display:inline-flex; align-items:center; gap:.4rem; padding:.35rem .7rem; border-radius:999px; font-size:.85rem; color: var(--text); background: color-mix(in srgb, var(--secondary) 18%, transparent); border:1px solid color-mix(in srgb, var(--text) 12%, transparent); }

/* ========= BGR FX ========= */
@keyframes gradientShift {
  0% { background-position: 0% 0%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 0%; }
}
body.anim-gradient {
  background:
    radial-gradient(1200px 800px at 80% -10%, color-mix(in srgb, var(--secondary) 22%, transparent), transparent 60%),
    radial-gradient(1200px 800px at 20% 110%, color-mix(in srgb, var(--primary) 18%, transparent), transparent 60%),
    linear-gradient(120deg, color-mix(in srgb, var(--accent) 16%, transparent), transparent 60%),
    var(--bg);
  background-attachment: fixed; background-repeat: no-repeat;
  background-size: 120% 120%, 120% 120%, 160% 160%, auto;
  animation: gradientShift 22s ease-in-out infinite;
}
#bgfx { position: fixed; inset: 0; z-index: -1; width: 100%; height: 100%; display:block; }

/* ========= NAV ========= */
.nav { position: sticky; top:0; z-index:50; backdrop-filter: blur(8px) saturate(120%); background: color-mix(in srgb, var(--bg) 86%, transparent); border-bottom:1px solid color-mix(in srgb, var(--text) 10%, transparent); }
.nav-inner { display:flex; align-items:center; justify-content:space-between; height:64px; }
.brand { display:flex; align-items:center; gap:.8rem; font-weight:700; }
.logo { width:28px; height:28px; border-radius:7px; background: conic-gradient(from 220deg, var(--primary), var(--secondary), var(--accent), var(--primary)); box-shadow: 0 0 0 1px color-mix(in srgb, var(--text) 18%, transparent) inset; }
.nav-links { display:flex; gap:1.2rem; align-items:center; }
.theme-switch { display:flex; gap:.6rem; align-items:center; }
select, .switch { background: transparent; color: var(--text); border:1px solid color-mix(in srgb, var(--text) 15%, transparent); border-radius:999px; padding:.4rem .7rem; }
/* Ensure dropdown list items are readable on dark themes */
.theme-switch select option {
  background: var(--panel);
  color: var(--text);
  border: 1px solid color-mix(in srgb, var(--text) 14%, transparent);
}

.theme-switch select:focus {
    outline: none;
    border-color: color-mix(in srgb, var(--primary) 55%, transparent);
    box-shadow: var(--glow-primary);
}


/* ========= HERO ========= */
.hero { padding: 72px 0 36px; }
.hero-grid { display:grid; grid-template-columns:1.15fr .85fr; gap:3rem; align-items:center; }
.hero h1 { font-size: clamp(2.2rem, 3.6vw, 3.2rem); line-height:1.08; margin:.2rem 0 .6rem; }
.hero p { font-size: clamp(1rem, 1.4vw, 1.15rem); color: var(--muted); }
.blob { aspect-ratio:1/1; width:100%; border-radius: 28px; background: radial-gradient(60% 60% at 30% 30%, color-mix(in srgb, var(--primary) 60%, transparent), transparent 70%), radial-gradient(60% 60% at 70% 70%, color-mix(in srgb, var(--secondary) 55%, transparent), transparent 70%), linear-gradient(160deg, color-mix(in srgb, var(--accent) 55%, transparent), transparent 60%); box-shadow: var(--shadow); transform: rotate(2deg); overflow: hidden; }

/* Image inside the blob: fills, preserves aspect, and inherits rounded corner + shadow */
.blob img { display:block; width:100%; height:100%; object-fit: cover; object-position: center; border-radius: inherit; }

/* ========= SECTIONS ========= */
section { padding: 54px 0; }
h2 { font-size: 1.8rem; margin: 0 0 1.2rem; }
.lede { color: var(--muted); max-width: 70ch; }

/* ========= CARDS / GRIDS ========= */
.grid { display:grid; gap:1.4rem; grid-template-columns: repeat(12, 1fr); }
.card { grid-column: span 4; background: linear-gradient(180deg, color-mix(in srgb, var(--card) 92%, transparent), color-mix(in srgb, var(--card) 96%, transparent)); border:1px solid color-mix(in srgb, var(--text) 10%, transparent); border-radius: var(--radius); padding:1.4rem; box-shadow: var(--shadow); transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease; }
.card:hover { transform: translateY(-4px); border-color: color-mix(in srgb, var(--primary) 28%, transparent); }
.card h3 { margin:.1rem 0 .4rem; font-size:1.15rem; }
.card p { color: var(--muted); }
.services .card { grid-column: span 4; }

/* ========= PROJECTS (tabs) ========= */
.tabs { display:flex; gap:.6rem; flex-wrap: wrap; margin: .4rem 0 1rem; }
.tab { padding:.5rem .8rem; border-radius: 999px; border:1px solid color-mix(in srgb, var(--text) 14%, transparent); cursor:pointer; background: transparent; color: var(--text); }
.tab.active { background: color-mix(in srgb, var(--secondary) 20%, transparent); border-color: color-mix(in srgb, var(--secondary) 35%, transparent); }
.panel { display:none; }
.panel.active { display:block; }
.feature-list { display:grid; gap:.6rem; margin: .8rem 0 0; padding:0; list-style:none; }
.feature-list li { display:flex; gap:.6rem; align-items:flex-start; }
.tick { width:.95rem; height:.95rem; border-radius:3px; background: var(--accent); margin-top:.2rem; }

/* ========= INFO STRIP ========= */
.strip { display:flex; flex-wrap:wrap; gap:.8rem; align-items:center; padding: .8rem; border-radius: 12px; background: color-mix(in srgb, var(--secondary) 14%, transparent); border:1px solid color-mix(in srgb, var(--text) 12%, transparent); }

/* ========= FOOTER ========= */
footer { border-top:1px solid color-mix(in srgb, var(--text) 10%, transparent); background: var(--panel); padding: 36px 0 60px; color: var(--muted); }
footer a { color: var(--text); }

/* ========= PRIVACY LIST STYLES ========= */
#privacy { margin-top: 3rem; }
#privacy h2 { color: var(--primary); font-size: 1.5rem; margin-bottom: 1rem; }

.privacy-list { list-style: none; padding: 0; margin: 0; }
.privacy-list li {
  margin: 0.5rem 0;
  padding-left: 2rem;
  position: relative;
  color: var(--text);
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.4s ease, transform 0.4s ease;
  transition-delay: var(--d, 0ms);
}
.privacy-list li::before {
  content: "âœ”";
  color: var(--primary);
  font-weight: bold;
  position: absolute;
  left: 0;
  opacity: 0;
  transform: scale(0.5);
  transition: opacity 0.4s ease, transform 0.4s ease;
  transition-delay: calc(var(--d, 0ms) + 80ms);
}
.privacy-list li.visible { opacity: 1; transform: translateY(0); }
.privacy-list li.visible::before { opacity: 1; transform: scale(1); }

/* ========= RESPONSIVE ========= */
@media (max-width: 920px) {
  .hero-grid { grid-template-columns:1fr; }
  .card { grid-column: span 12; }
  .services .card { grid-column: span 12; }
}

/* Mobile / notch and nav wrapping fixes */
.nav {
  /* ensure top content isn't hidden behind device notches/status bars */
  padding-top: constant(safe-area-inset-top); /* iOS <12 fallback */
  padding-top: env(safe-area-inset-top);
  /* safe-area left/right so content doesn't touch rounded screen edges or get clipped */
  padding-left: constant(safe-area-inset-left);
  padding-left: env(safe-area-inset-left);
  padding-right: constant(safe-area-inset-right);
  padding-right: env(safe-area-inset-right);
}

@media (max-width: 820px) {
  .nav-inner {
    /* allow brand and links to wrap so the right-side controls don't get clipped */
    flex-wrap: wrap;
    gap: .5rem;
  align-items: center;
  /* allow the container to grow vertically when items wrap */
  height: auto; /* override fixed desktop height */
  padding: .6rem 0 .45rem 0;
  }
  /* allow brand to shrink if needed (prevents overflow) */
  .brand { flex: 0 1 auto; min-width: 0; }
  .nav-links {
    /* move links to their own row and align them to the right; allow wrapping inside the links container */
    width: 100%;
    display: flex;
    justify-content: flex-end;
    gap: .6rem;
    align-items: center;
    flex-wrap: wrap;
  }
  .nav-links a { white-space: nowrap; }
  /* ensure the theme selector and controls stay visible and can move to their own row */
  .theme-switch { order: 2; }
}

/* Ensure project/about cards always stack on small screens even when inline styles set grid-column */
@media (max-width: 920px) {
  /* Force any card inside a grid to span full width on narrow screens.
     This overrides inline `grid-column: span X;` styles used in the HTML so
     Projects, About, Services, etc. stack cleanly on mobile. */
  .panel .grid .card,
  .grid .card {
    grid-column: 1 / -1 !important;
  }
}
